<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>XPU-DSAM7S: USB::CSTD Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_u_s_b.html">USB</a>::<a class="el" href="class_u_s_b_1_1_c_s_t_d.html">CSTD</a>
  </div>
</div>
<div class="contents">
<h1>USB::CSTD Class Reference</h1><!-- doxytag: class="USB::CSTD" --><a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> standard class driver structure.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for USB::CSTD:</div>
<div class="dynsection">

<p><center><img src="class_u_s_b_1_1_c_s_t_d.png" usemap="#USB::CSTD_map" border="0" alt=""></center>
<map name="USB::CSTD_map">
<area href="class_u_s_b_1_1_c_c_d_c.html" alt="USB::CCDC" shape="rect" coords="0,56,78,80">
</map>
</div>

<p>
<a href="class_u_s_b_1_1_c_s_t_d-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#770fc157d10920c6c262bcd828089d15">EventHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low-level usb driver interrupt handler.  <a href="#770fc157d10920c6c262bcd828089d15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#9cd9bb3516150b1e0821a01902ef7f2c">Init</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API and the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller.  <a href="#9cd9bb3516150b1e0821a01902ef7f2c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#98f1867ea032111a20eb818405f10582">IsPowered</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return true if device is powered.  <a href="#98f1867ea032111a20eb818405f10582"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#49b9083f89f076dc13bbdb17a42615a1">Connect</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connect to device.  <a href="#49b9083f89f076dc13bbdb17a42615a1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#0e11bf23e8398d0a74e8cb9f0a2d9935">Attach</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attach device to <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> bus.  <a href="#0e11bf23e8398d0a74e8cb9f0a2d9935"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#e38a077457b22283969b6f5a270e9c2d">RequestHandler</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles standard SETUP requests.  <a href="#e38a077457b22283969b6f5a270e9c2d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#a359599b4f899358735b924c42a55763">CSTD</a> (<a class="el" href="class_u_s_b_1_1_c_usb_driver.html">CUsbDriver</a> *usbDriver, <a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a> *board, <a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a> *eventSink)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. Connects object to <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance.  <a href="#a359599b4f899358735b924c42a55763"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html">CUsbDriver</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725">pDriver</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to usb driver instance.  <a href="#1f8a0f5b1dd8cfb810cd3e66a344b725"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="struct_u_s_b_1_1_s__std__descriptors.html">S_std_descriptors</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">wData</a></td></tr>

<tr><td colspan="2"><br><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c">SELF_POWERED</a> =  (1 &lt;&lt; 0), 
<a class="el" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1">REMOTE_WAKEUP</a> =  (1 &lt;&lt; 1)
 }</td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#fc8aa4797c016380f3b59fa5976b80e1">ConfigureEndpoints</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures the device and the endpoints.  <a href="#fc8aa4797c016380f3b59fa5976b80e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#863e89fa025dffd2edbab39887228f23">SetConfiguration</a> (int bConfiguration)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a zero-length packet and starts the configuration procedure.  <a href="#863e89fa025dffd2edbab39887228f23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#438c2fb166291bba11741e1d158b6df3">GetConfiguration</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the currently selected configuration to the host.  <a href="#438c2fb166291bba11741e1d158b6df3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#85d8b67da9e0c9b66500b7fd453d7ddd">GetDeviceStatus</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the current device status to the host.  <a href="#85d8b67da9e0c9b66500b7fd453d7ddd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#f7dbc7bff8bf0f567b2935c05384e920">GetEndpointStatus</a> (int bEndpoint)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the current status of specified endpoint to the host.  <a href="#f7dbc7bff8bf0f567b2935c05384e920"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#64390a146f8b0a0f8b59071730ced8d1">GetDeviceDescriptor</a> (<a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> wLength)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the device descriptor to the host.  <a href="#64390a146f8b0a0f8b59071730ced8d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#c1a2be83c099f8a4773758d379346fca">GetConfigurationDescriptor</a> (<a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> wLength)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the configuration descriptor to the host.  <a href="#c1a2be83c099f8a4773758d379346fca"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#1f7d664b3ca71f74cab096f6913e4b56">GetStringDescriptor</a> (<a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> wLength, int bIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the specified string descriptor to the host.  <a href="#1f7d664b3ca71f74cab096f6913e4b56"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#38c657e553bedea1b2930c2e1fff20d7">OnSetAddress</a> (<a class="el" href="class_u_s_b_1_1_c_s_t_d.html">CSTD</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback for the SetAddress usb request.  <a href="#38c657e553bedea1b2930c2e1fff20d7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#36f864e42c1441843f5ecdc2b05e2ba3">OnConfigureEndpoints</a> (<a class="el" href="class_u_s_b_1_1_c_s_t_d.html">CSTD</a> *pThis)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Callback for the SetConfiguration usb request. Configures the device and the endpoints.  <a href="#36f864e42c1441843f5ecdc2b05e2ba3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> standard class driver structure. 
<p>
Used to provide standard driver information so external modules can still access an internal driver. 
<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01096">1096</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="1641f2c157cc2407d3b93fc049e405a7"></a><!-- doxytag: member="USB::CSTD::@21" ref="1641f2c157cc2407d3b93fc049e405a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
wDeviceStatus flags: Information Returned by a GetStatus() Request to a Device. <dl class="see" compact><dt><b>See also:</b></dt><dd><a href="../usb_20.pdf">USB Specification 2.0</a> - Section 9.4.5 - Figure 9-4 </dd></dl>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c"></a><!-- doxytag: member="SELF_POWERED" ref="1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c" args="" -->SELF_POWERED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1"></a><!-- doxytag: member="REMOTE_WAKEUP" ref="1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1" args="" -->REMOTE_WAKEUP</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01102">1102</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01103"></a>01103     {
<a name="l01104"></a>01104         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c">SELF_POWERED</a>          = (1 &lt;&lt; 0),
<a name="l01105"></a>01105         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1">REMOTE_WAKEUP</a>         = (1 &lt;&lt; 1)
<a name="l01106"></a>01106     };
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a359599b4f899358735b924c42a55763"></a><!-- doxytag: member="USB::CSTD::CSTD" ref="a359599b4f899358735b924c42a55763" args="(CUsbDriver *usbDriver, CBoard *board, CEventSink *eventSink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB::CSTD::CSTD           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html">CUsbDriver</a> *&nbsp;</td>
          <td class="paramname"> <em>usbDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a> *&nbsp;</td>
          <td class="paramname"> <em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a> *&nbsp;</td>
          <td class="paramname"> <em>eventSink</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. Connects object to <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance. 
<p>
Note that this constructor is not public, which means that <a class="el" href="class_u_s_b_1_1_c_s_t_d.html" title="USB standard class driver structure.">CSTD</a> objects can not be instantiated. However, derived class objects could be instantiated normally. 
<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01309">1309</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00998">USB::CUsbDriver::LinkTo()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01310"></a>01310     {
<a name="l01311"></a>01311         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a> = usbDriver;
<a name="l01312"></a>01312         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;LinkTo( eventSink, board );
<a name="l01313"></a>01313     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="38c657e553bedea1b2930c2e1fff20d7"></a><!-- doxytag: member="USB::CSTD::OnSetAddress" ref="38c657e553bedea1b2930c2e1fff20d7" args="(CSTD *pThis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void USB::CSTD::OnSetAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html">CSTD</a> *&nbsp;</td>
          <td class="paramname"> <em>pThis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback for the SetAddress usb request. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#e38a077457b22283969b6f5a270e9c2d" title="Handles standard SETUP requests.">CSTD::RequestHandler</a> </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01125">1125</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4ac664ad2530ff764689a0f8eb7210d2">USB::CUsbDriver::SetAddress()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01126"></a>01126     {
<a name="l01127"></a>01127         pThis-&gt;pDriver-&gt;SetAddress ();
<a name="l01128"></a>01128     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fc8aa4797c016380f3b59fa5976b80e1"></a><!-- doxytag: member="USB::CSTD::ConfigureEndpoints" ref="fc8aa4797c016380f3b59fa5976b80e1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::ConfigureEndpoints           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configures the device and the endpoints. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01133">1133</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e1226551977f53cc3a9e8411c7264e13">USB::CUsbDriver::ConfigureEndpoint()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01035">USB::CUsbDriver::GetNumEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01111">pDescriptors</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l01081">USB::S_std_descriptors::pEndpoints</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#5ae347a153c69dc160eba2e1e8d4a0a8">USB::CUsbDriver::SetConfiguration()</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01154">OnConfigureEndpoints()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01134"></a>01134     {
<a name="l01135"></a>01135         <span class="comment">// Enter the Configured state</span>
<a name="l01136"></a>01136         <span class="comment">//</span>
<a name="l01137"></a>01137         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;SetConfiguration ();
<a name="l01138"></a>01138 
<a name="l01139"></a>01139         <span class="comment">// Configure endpoints</span>
<a name="l01140"></a>01140         <span class="comment">// TODO: Why this works for GetNumEndpoints()-1 and not</span>
<a name="l01141"></a>01141         <span class="comment">// for GetNumEndpoints() when windows is getting out stand-by mode?</span>
<a name="l01142"></a>01142         <span class="comment">//</span>
<a name="l01143"></a>01143         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;GetNumEndpoints () - 1; i++ )
<a name="l01144"></a>01144         {
<a name="l01145"></a>01145             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;ConfigureEndpoint( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pEndpoints[ i ] );
<a name="l01146"></a>01146         }
<a name="l01147"></a>01147     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="36f864e42c1441843f5ecdc2b05e2ba3"></a><!-- doxytag: member="USB::CSTD::OnConfigureEndpoints" ref="36f864e42c1441843f5ecdc2b05e2ba3" args="(CSTD *pThis)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void USB::CSTD::OnConfigureEndpoints           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_s_t_d.html">CSTD</a> *&nbsp;</td>
          <td class="paramname"> <em>pThis</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback for the SetConfiguration usb request. Configures the device and the endpoints. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_s_t_d.html#863e89fa025dffd2edbab39887228f23" title="Sends a zero-length packet and starts the configuration procedure.">CSTD::SetConfiguration</a>, <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#fc8aa4797c016380f3b59fa5976b80e1" title="Configures the device and the endpoints.">CSTD::ConfigureEndpoints</a> </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01154">1154</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l01133">ConfigureEndpoints()</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01163">SetConfiguration()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01155"></a>01155     {
<a name="l01156"></a>01156         pThis-&gt;ConfigureEndpoints ();
<a name="l01157"></a>01157     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="863e89fa025dffd2edbab39887228f23"></a><!-- doxytag: member="USB::CSTD::SetConfiguration" ref="863e89fa025dffd2edbab39887228f23" args="(int bConfiguration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::SetConfiguration           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bConfiguration</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a zero-length packet and starts the configuration procedure. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bConfiguration</em>&nbsp;</td><td>Newly selected configuration </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01163">1163</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l01154">OnConfigureEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01059">USB::CUsbDriver::SendZLP0()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01164"></a>01164     {
<a name="l01165"></a>01165         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;SendZLP0( <a class="code" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a>( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#36f864e42c1441843f5ecdc2b05e2ba3" title="Callback for the SetConfiguration usb request. Configures the device and the endpoints...">OnConfigureEndpoints</a> ), <span class="keyword">this</span> );
<a name="l01166"></a>01166     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="438c2fb166291bba11741e1d158b6df3"></a><!-- doxytag: member="USB::CSTD::GetConfiguration" ref="438c2fb166291bba11741e1d158b6df3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetConfiguration           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the currently selected configuration to the host. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01171">1171</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l01017">USB::CUsbDriver::IsStateSet()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l00352">USB::USB_STATE_CONFIGURED</a>, <a class="el" href="usb_framework_8hpp-source.html#l01116">wData</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01172"></a>01172     {
<a name="l01173"></a>01173         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">wData</a> = <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;IsStateSet( <a class="code" href="namespace_u_s_b.html#4b424fb02cb835b833b701f65aaa38bd989613f0858adc2fb4eeee083efa06b8" title="Configured state.">USB_STATE_CONFIGURED</a> ) ? 1 : 0; 
<a name="l01174"></a>01174         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write( 0, &amp;<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">wData</a>, 1 );
<a name="l01175"></a>01175     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="85d8b67da9e0c9b66500b7fd453d7ddd"></a><!-- doxytag: member="USB::CSTD::GetDeviceStatus" ref="85d8b67da9e0c9b66500b7fd453d7ddd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetDeviceStatus           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the current device status to the host. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01180">1180</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00422">USB::S_usb_configuration_descriptor::bmAttibutes</a>, <a class="el" href="common_8h-source.html#l00060">ISSET</a>, <a class="el" href="usb_framework_8hpp-source.html#l01079">USB::S_std_descriptors::pConfiguration</a>, <a class="el" href="usb_framework_8hpp-source.html#l01111">pDescriptors</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l01104">SELF_POWERED</a>, <a class="el" href="usb_framework_8hpp-source.html#l00285">USB::USB_CONFIG_SELF_POWERED</a>, <a class="el" href="usb_framework_8hpp-source.html#l01113">wDeviceStatus</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01181"></a>01181     {
<a name="l01182"></a>01182         <span class="comment">// Bus or self-powered ?</span>
<a name="l01183"></a>01183         <span class="comment">//</span>
<a name="l01184"></a>01184         <span class="keywordflow">if</span> ( <a class="code" href="common_8h.html#0c7779daa8274056a6abd444c2089ade">ISSET</a>( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pConfiguration-&gt;bmAttibutes, <a class="code" href="namespace_u_s_b.html#2cbaf5a85c99904a69a6eb99de7235a07954788fd4052d07aa76a22df269b106" title="Device is self-powered.">USB_CONFIG_SELF_POWERED</a> ) ) 
<a name="l01185"></a>01185         {
<a name="l01186"></a>01186             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a> |= <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c">SELF_POWERED</a>;   <span class="comment">// Self powered device</span>
<a name="l01187"></a>01187         }
<a name="l01188"></a>01188         <span class="keywordflow">else</span> 
<a name="l01189"></a>01189         {
<a name="l01190"></a>01190             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a> &amp;= ~<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a793810bce82adca220dd02198ef0c1e3c">SELF_POWERED</a>;  <span class="comment">// Bus powered device</span>
<a name="l01191"></a>01191         }
<a name="l01192"></a>01192 
<a name="l01193"></a>01193         <span class="comment">// Return the device status</span>
<a name="l01194"></a>01194         <span class="comment">//</span>
<a name="l01195"></a>01195         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write( 0, &amp;<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a>, 2 );
<a name="l01196"></a>01196     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f7dbc7bff8bf0f567b2935c05384e920"></a><!-- doxytag: member="USB::CSTD::GetEndpointStatus" ref="f7dbc7bff8bf0f567b2935c05384e920" args="(int bEndpoint)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetEndpointStatus           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bEndpoint</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the current status of specified endpoint to the host. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bEndpoint</em>&nbsp;</td><td>Endpoint number </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01202">1202</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2">USB::CUsbDriver::Halt()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l00035">USB::USB_GET_STATUS</a>, <a class="el" href="usb_framework_8hpp-source.html#l01116">wData</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01203"></a>01203     {
<a name="l01204"></a>01204         <span class="comment">// Retrieve the endpoint current status</span>
<a name="l01205"></a>01205         <span class="comment">//</span>
<a name="l01206"></a>01206         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">wData</a> = <a class="code" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Halt( bEndpoint, <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99b506345c9666afc911976e539ef2edcf">USB_GET_STATUS</a> ) );
<a name="l01207"></a>01207 
<a name="l01208"></a>01208         <span class="comment">// Return the endpoint status</span>
<a name="l01209"></a>01209         <span class="comment">//</span>
<a name="l01210"></a>01210         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write( 0, &amp;<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">wData</a>, 2 );
<a name="l01211"></a>01211     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="64390a146f8b0a0f8b59071730ced8d1"></a><!-- doxytag: member="USB::CSTD::GetDeviceDescriptor" ref="64390a146f8b0a0f8b59071730ced8d1" args="(ushort wLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetDeviceDescriptor           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&nbsp;</td>
          <td class="paramname"> <em>wLength</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the device descriptor to the host. 
<p>
The number of bytes actually sent depends on both the length requested by the host and the actual length of the descriptor. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wLength</em>&nbsp;</td><td>Number of bytes requested by the host </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01219">1219</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="common_8h-source.html#l00103">min()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01111">pDescriptors</a>, <a class="el" href="usb_framework_8hpp-source.html#l01078">USB::S_std_descriptors::pDevice</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01220"></a>01220     {
<a name="l01221"></a>01221         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write
<a name="l01222"></a>01222         ( 
<a name="l01223"></a>01223             0, <span class="comment">// endpoint</span>
<a name="l01224"></a>01224             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pDevice, <span class="comment">// ptr to data</span>
<a name="l01225"></a>01225             <a class="code" href="common_8h.html#97a6b31fa879f6c56a1122dcf6b25dfe">min</a>( <span class="keyword">sizeof</span>(S_usb_device_descriptor), wLength ) <span class="comment">// data length</span>
<a name="l01226"></a>01226             );
<a name="l01227"></a>01227     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c1a2be83c099f8a4773758d379346fca"></a><!-- doxytag: member="USB::CSTD::GetConfigurationDescriptor" ref="c1a2be83c099f8a4773758d379346fca" args="(ushort wLength)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetConfigurationDescriptor           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&nbsp;</td>
          <td class="paramname"> <em>wLength</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the configuration descriptor to the host. 
<p>
The number of bytes actually sent depends on both the length requested by the host and the actual length of the descriptor. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wLength</em>&nbsp;</td><td>Number of bytes requested by the host </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01235">1235</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="common_8h-source.html#l00103">min()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01079">USB::S_std_descriptors::pConfiguration</a>, <a class="el" href="usb_framework_8hpp-source.html#l01111">pDescriptors</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00415">USB::S_usb_configuration_descriptor::wTotalLength</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01236"></a>01236     {
<a name="l01237"></a>01237         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write
<a name="l01238"></a>01238         (
<a name="l01239"></a>01239              0, <span class="comment">// endpoint</span>
<a name="l01240"></a>01240              <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pConfiguration, <span class="comment">// ptr to data</span>
<a name="l01241"></a>01241              <a class="code" href="common_8h.html#97a6b31fa879f6c56a1122dcf6b25dfe">min</a>( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pConfiguration-&gt;wTotalLength, wLength ) <span class="comment">// data length</span>
<a name="l01242"></a>01242              );
<a name="l01243"></a>01243     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1f7d664b3ca71f74cab096f6913e4b56"></a><!-- doxytag: member="USB::CSTD::GetStringDescriptor" ref="1f7d664b3ca71f74cab096f6913e4b56" args="(ushort wLength, int bIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::GetStringDescriptor           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a>&nbsp;</td>
          <td class="paramname"> <em>wLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the specified string descriptor to the host. 
<p>
The number of bytes actually sent depends on both the length requested by the host and the actual length of the descriptor. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wLength</em>&nbsp;</td><td>Number of bytes requested by the host </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bIndex</em>&nbsp;</td><td>Index of requested string descriptor </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01286">1286</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="common_8h-source.html#l00103">min()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01111">pDescriptors</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l01080">USB::S_std_descriptors::pStrings</a>, and <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">USB::CUsbDriver::Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01287"></a>01287     {
<a name="l01288"></a>01288         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Write
<a name="l01289"></a>01289         (
<a name="l01290"></a>01290             0, <span class="comment">// endpoint</span>
<a name="l01291"></a>01291             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pStrings[ bIndex ], <span class="comment">// ptr to data</span>
<a name="l01292"></a>01292             <a class="code" href="common_8h.html#97a6b31fa879f6c56a1122dcf6b25dfe">min</a>( *<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">pDescriptors</a>-&gt;pStrings[ bIndex ], wLength ) <span class="comment">// data length</span>
<a name="l01293"></a>01293             );
<a name="l01294"></a>01294     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e38a077457b22283969b6f5a270e9c2d"></a><!-- doxytag: member="USB::CSTD::RequestHandler" ref="e38a077457b22283969b6f5a270e9c2d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSTD::RequestHandler           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles standard SETUP requests. 
<p>

<p>Reimplemented in <a class="el" href="class_u_s_b_1_1_c_c_d_c.html#825e8609b22bf0012d10a81248ff1bc5">USB::CCDC</a>.</p>

<p>Definition at line <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">19</a> of file <a class="el" href="usb_s_t_d_8cpp-source.html">usbSTD.cpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00374">USB::S_usb_request::bmRequestType</a>, <a class="el" href="usb_framework_8hpp-source.html#l00375">USB::S_usb_request::bRequest</a>, <a class="el" href="usb_framework_8hpp-source.html#l01171">GetConfiguration()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01235">GetConfigurationDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01219">GetDeviceDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01180">GetDeviceStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01202">GetEndpointStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01008">USB::CUsbDriver::GetSetup()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01286">GetStringDescriptor()</a>, <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2">USB::CUsbDriver::Halt()</a>, <a class="el" href="common_8h-source.html#l00064">HBYTE</a>, <a class="el" href="common_8h-source.html#l00065">LBYTE</a>, <a class="el" href="usb_framework_8hpp-source.html#l01125">OnSetAddress()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, <a class="el" href="usb_framework_8hpp-source.html#l01105">REMOTE_WAKEUP</a>, <a class="el" href="usb_framework_8hpp-source.html#l01059">USB::CUsbDriver::SendZLP0()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01163">SetConfiguration()</a>, <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9">USB::CUsbDriver::Stall()</a>, <a class="el" href="trace_8h-source.html#l00049">TRACE_DEBUG_M</a>, <a class="el" href="trace_8h-source.html#l00067">TRACE_WARNING</a>, <a class="el" href="usb_framework_8hpp-source.html#l00038">USB::USB_CLEAR_FEATURE</a>, <a class="el" href="usb_framework_8hpp-source.html#l00128">USB::USB_CONFIGURATION_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l00127">USB::USB_DEVICE_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l00132">USB::USB_DEVICE_QUALIFIER_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l00085">USB::USB_DEVICE_REMOTE_WAKEUP</a>, <a class="el" href="usb_framework_8hpp-source.html#l00084">USB::USB_ENDPOINT_HALT</a>, <a class="el" href="usb_framework_8hpp-source.html#l00054">USB::USB_GET_CONFIGURATION</a>, <a class="el" href="usb_framework_8hpp-source.html#l00049">USB::USB_GET_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l00059">USB::USB_GET_INTERFACE</a>, <a class="el" href="usb_framework_8hpp-source.html#l00035">USB::USB_GET_STATUS</a>, <a class="el" href="usb_framework_8hpp-source.html#l00133">USB::USB_OTHER_SPEED_CONFIGURATION_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l00191">USB::USB_RECIPIENT_DEVICE</a>, <a class="el" href="usb_framework_8hpp-source.html#l00193">USB::USB_RECIPIENT_ENDPOINT</a>, <a class="el" href="usb_framework_8hpp-source.html#l00200">USB_REQUEST_RECIPIENT</a>, <a class="el" href="usb_framework_8hpp-source.html#l00047">USB::USB_SET_ADDRESS</a>, <a class="el" href="usb_framework_8hpp-source.html#l00057">USB::USB_SET_CONFIGURATION</a>, <a class="el" href="usb_framework_8hpp-source.html#l00042">USB::USB_SET_FEATURE</a>, <a class="el" href="usb_framework_8hpp-source.html#l00062">USB::USB_SET_INTERFACE</a>, <a class="el" href="usb_framework_8hpp-source.html#l00129">USB::USB_STRING_DESCRIPTOR</a>, <a class="el" href="usb_framework_8hpp-source.html#l01113">wDeviceStatus</a>, <a class="el" href="usb_framework_8hpp-source.html#l00377">USB::S_usb_request::wIndex</a>, <a class="el" href="usb_framework_8hpp-source.html#l00378">USB::S_usb_request::wLength</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00376">USB::S_usb_request::wValue</a>.</p>

<p>Referenced by <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00020"></a>00020 {
<a name="l00021"></a>00021     <a class="code" href="struct_u_s_b_1_1_s__usb__request.html" title="USB Standard Structures.">S_usb_request</a>* pSetup = <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#e0c4391c9504d8acb41c103693f7da24" title="Returns a pointer to the last received SETUP request.">GetSetup</a> ();
<a name="l00022"></a>00022 
<a name="l00023"></a>00023     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Std "</span> );
<a name="l00024"></a>00024 
<a name="l00025"></a>00025     <span class="comment">// Handle incoming request</span>
<a name="l00026"></a>00026     <span class="comment">//</span>
<a name="l00027"></a>00027     <span class="keywordflow">switch</span>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#bcbed404a52fab81989a7bf2c49f6a7f" title="Particular request.">bRequest</a> )
<a name="l00028"></a>00028     {
<a name="l00029"></a>00029         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00030"></a>00030         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99297f71808d2c9607b8ad65cbede33d3a">USB_GET_DESCRIPTOR</a>: <span class="comment">// bRequest</span>
<a name="l00031"></a>00031         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00032"></a>00032             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"gDesc "</span> );
<a name="l00033"></a>00033     
<a name="l00034"></a>00034             <span class="comment">// The HBYTE macro returns the upper byte of a word</span>
<a name="l00035"></a>00035             <span class="comment">//</span>
<a name="l00036"></a>00036             <span class="keywordflow">switch</span>( <a class="code" href="common_8h.html#8f690e9c3d9df1e4f80fc082aa94bbcb">HBYTE</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> ) ) 
<a name="l00037"></a>00037             {
<a name="l00038"></a>00038                 <span class="comment">//-------------------------</span>
<a name="l00039"></a>00039                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg49001628f8c8dc9ea920ace479e894752f843b758ea92df36d312531cc3c05c0" title="Device descriptor.">USB_DEVICE_DESCRIPTOR</a>:
<a name="l00040"></a>00040                 <span class="comment">//-------------------------</span>
<a name="l00041"></a>00041                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Dev "</span> );
<a name="l00042"></a>00042                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#64390a146f8b0a0f8b59071730ced8d1" title="Sends the device descriptor to the host.">GetDeviceDescriptor</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f34e4f36d8f26ce93118563319e1a2f9" title="Length of data for the data phase.">wLength</a> );
<a name="l00043"></a>00043                     <span class="keywordflow">break</span>;
<a name="l00044"></a>00044         
<a name="l00045"></a>00045                 <span class="comment">//--------------------------------</span>
<a name="l00046"></a>00046                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg49001628f8c8dc9ea920ace479e89475323d33cdb1053a29c4fe340f27930c95" title="Configuration descriptor.">USB_CONFIGURATION_DESCRIPTOR</a>:
<a name="l00047"></a>00047                 <span class="comment">//--------------------------------</span>
<a name="l00048"></a>00048                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Cfg "</span> );
<a name="l00049"></a>00049                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#c1a2be83c099f8a4773758d379346fca" title="Sends the configuration descriptor to the host.">GetConfigurationDescriptor</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f34e4f36d8f26ce93118563319e1a2f9" title="Length of data for the data phase.">wLength</a> );
<a name="l00050"></a>00050                     <span class="keywordflow">break</span>;
<a name="l00051"></a>00051         
<a name="l00052"></a>00052                 <span class="comment">//-----------------------------------</span>
<a name="l00053"></a>00053                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg49001628f8c8dc9ea920ace479e8947569ca43ddfb5d6a49ab4f438b7ba4376a" title="Device qualifier descriptor.">USB_DEVICE_QUALIFIER_DESCRIPTOR</a>:
<a name="l00054"></a>00054                 <span class="comment">//-----------------------------------</span>
<a name="l00055"></a>00055                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Qua "</span> );
<a name="l00056"></a>00056 <span class="preprocessor">#if defined(HIGHSPEED)</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>                    GetQualifierDescriptor( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f34e4f36d8f26ce93118563319e1a2f9" title="Length of data for the data phase.">wLength</a> );
<a name="l00058"></a>00058 <span class="preprocessor">#else            </span>
<a name="l00059"></a>00059 <span class="preprocessor"></span>                    <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"[not supported] "</span> );
<a name="l00060"></a>00060                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00061"></a>00061 <span class="preprocessor">#endif</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span>                    <span class="keywordflow">break</span>;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="preprocessor">#if defined(HIGHSPEED)</span>
<a name="l00065"></a>00065 <span class="preprocessor"></span>                <span class="comment">//--------------------------------------------</span>
<a name="l00066"></a>00066                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg49001628f8c8dc9ea920ace479e89475abbae6bcee728b40483869b7c30a021d">USB_OTHER_SPEED_CONFIGURATION_DESCRIPTOR</a>:
<a name="l00067"></a>00067                 <span class="comment">//--------------------------------------------</span>
<a name="l00068"></a>00068                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"OSC "</span> );
<a name="l00069"></a>00069                     GetOSCDescriptor( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f34e4f36d8f26ce93118563319e1a2f9" title="Length of data for the data phase.">wLength</a> );
<a name="l00070"></a>00070                     <span class="keywordflow">break</span>;
<a name="l00071"></a>00071 <span class="preprocessor">#endif</span>
<a name="l00072"></a>00072 <span class="preprocessor"></span>    
<a name="l00073"></a>00073                 <span class="comment">//-------------------------</span>
<a name="l00074"></a>00074                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg49001628f8c8dc9ea920ace479e8947503b433cf3485565e2aee6123a3b03260" title="String descriptor.">USB_STRING_DESCRIPTOR</a>:
<a name="l00075"></a>00075                 <span class="comment">//-------------------------</span>
<a name="l00076"></a>00076                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Str%d "</span>, <a class="code" href="common_8h.html#b470cd9fdf2381c86c5f41ff3d417348">LBYTE</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> ) );
<a name="l00077"></a>00077                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f7d664b3ca71f74cab096f6913e4b56" title="Sends the specified string descriptor to the host.">GetStringDescriptor</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f34e4f36d8f26ce93118563319e1a2f9" title="Length of data for the data phase.">wLength</a>, <a class="code" href="common_8h.html#b470cd9fdf2381c86c5f41ff3d417348">LBYTE</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> ) ); 
<a name="l00078"></a>00078                     <span class="keywordflow">break</span>;
<a name="l00079"></a>00079         
<a name="l00080"></a>00080                 <span class="comment">//------</span>
<a name="l00081"></a>00081                 <span class="keywordflow">default</span>:
<a name="l00082"></a>00082                 <span class="comment">//------</span>
<a name="l00083"></a>00083                     <a class="code" href="trace_8h.html#72b9761add7486364dba449091cd2579">TRACE_WARNING</a>( 
<a name="l00084"></a>00084                         <span class="stringliteral">"W: STD::RequestHandler: Unknown GetDescriptor 0x%02X\n"</span>,
<a name="l00085"></a>00085                         <a class="code" href="common_8h.html#8f690e9c3d9df1e4f80fc082aa94bbcb">HBYTE</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> )
<a name="l00086"></a>00086                     );
<a name="l00087"></a>00087                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00088"></a>00088                     <span class="keywordflow">break</span>;
<a name="l00089"></a>00089                 }
<a name="l00090"></a>00090                 <span class="keywordflow">break</span>;
<a name="l00091"></a>00091     
<a name="l00092"></a>00092         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00093"></a>00093         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c9996565c9c991c76320e0d641e59464338">USB_SET_ADDRESS</a>: <span class="comment">// bRequest</span>
<a name="l00094"></a>00094         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00095"></a>00095             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"sAddr "</span> );
<a name="l00096"></a>00096             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c" title="Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.">SendZLP0</a>( <a class="code" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a>( <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#38c657e553bedea1b2930c2e1fff20d7" title="Callback for the SetAddress usb request.">OnSetAddress</a> ), <span class="keyword">this</span> );
<a name="l00097"></a>00097             <span class="keywordflow">break</span>;
<a name="l00098"></a>00098     
<a name="l00099"></a>00099         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00100"></a>00100         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99e98ba72f45818f1caf4499d3d00a319d">USB_SET_CONFIGURATION</a>: <span class="comment">// bRequest</span>
<a name="l00101"></a>00101         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00102"></a>00102             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"sCfg "</span> );
<a name="l00103"></a>00103             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#863e89fa025dffd2edbab39887228f23" title="Sends a zero-length packet and starts the configuration procedure.">SetConfiguration</a>( (<span class="keywordtype">char</span>) pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> );
<a name="l00104"></a>00104             <span class="keywordflow">break</span>;
<a name="l00105"></a>00105     
<a name="l00106"></a>00106         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00107"></a>00107         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99981f056ef4a403f43d344db6c5d20d42">USB_GET_CONFIGURATION</a>: <span class="comment">// bRequest</span>
<a name="l00108"></a>00108         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00109"></a>00109             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"gCfg "</span> );
<a name="l00110"></a>00110             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#438c2fb166291bba11741e1d158b6df3" title="Sends the currently selected configuration to the host.">GetConfiguration</a> ();
<a name="l00111"></a>00111             <span class="keywordflow">break</span>;
<a name="l00112"></a>00112     
<a name="l00113"></a>00113         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00114"></a>00114         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99e0943d2bd672b0bfcd44a97199451dea">USB_CLEAR_FEATURE</a>: <span class="comment">// bRequest</span>
<a name="l00115"></a>00115         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00116"></a>00116             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"cFeat "</span> );
<a name="l00117"></a>00117     
<a name="l00118"></a>00118             <span class="keywordflow">switch</span>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> )
<a name="l00119"></a>00119             {
<a name="l00120"></a>00120                 <span class="comment">//---------------------</span>
<a name="l00121"></a>00121                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg69f99dd6b2e50cce11cd4236cdcbe424530b6672697a789153c74233ef5d745b" title="Halt feature of an endpoint.">USB_ENDPOINT_HALT</a>:
<a name="l00122"></a>00122                 <span class="comment">//---------------------</span>
<a name="l00123"></a>00123                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Hlt "</span> );
<a name="l00124"></a>00124                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2" title="Clears, sets or retrieves the halt state of the specified endpoint.">Halt</a>( <a class="code" href="common_8h.html#b470cd9fdf2381c86c5f41ff3d417348">LBYTE</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#eae7f94003988b3ec9bd618b0a333a79" title="Request-specific parameter.">wIndex</a> ), <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99e0943d2bd672b0bfcd44a97199451dea">USB_CLEAR_FEATURE</a> );
<a name="l00125"></a>00125                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c" title="Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.">SendZLP0</a> ();
<a name="l00126"></a>00126                     <span class="keywordflow">break</span>;
<a name="l00127"></a>00127     
<a name="l00128"></a>00128                 <span class="comment">//----------------------------</span>
<a name="l00129"></a>00129                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg69f99dd6b2e50cce11cd4236cdcbe424b613d506364fdb5dbef25d95349f91d9" title="Remote wake-up feature of the device.">USB_DEVICE_REMOTE_WAKEUP</a>:
<a name="l00130"></a>00130                 <span class="comment">//----------------------------</span>
<a name="l00131"></a>00131                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"RmWak "</span> );
<a name="l00132"></a>00132                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a> &amp;= ~<a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1">REMOTE_WAKEUP</a>; <span class="comment">// Remote wakeup disabled</span>
<a name="l00133"></a>00133                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c" title="Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.">SendZLP0</a> ();
<a name="l00134"></a>00134                     <span class="keywordflow">break</span>;
<a name="l00135"></a>00135     
<a name="l00136"></a>00136                 <span class="comment">//------</span>
<a name="l00137"></a>00137                 <span class="keywordflow">default</span>:
<a name="l00138"></a>00138                 <span class="comment">//------</span>
<a name="l00139"></a>00139                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Sta "</span> );
<a name="l00140"></a>00140                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00141"></a>00141     
<a name="l00142"></a>00142             }
<a name="l00143"></a>00143             <span class="keywordflow">break</span>;
<a name="l00144"></a>00144     
<a name="l00145"></a>00145         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00146"></a>00146         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99b506345c9666afc911976e539ef2edcf">USB_GET_STATUS</a>: <span class="comment">// bRequest</span>
<a name="l00147"></a>00147         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00148"></a>00148             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"gSta "</span> );
<a name="l00149"></a>00149     
<a name="l00150"></a>00150             <span class="keywordflow">switch</span> ( <a class="code" href="usb_framework_8hpp.html#c05a249b5fd4185daeced3f3f09d633a" title="Get the receipient bits [4..0] from the bmRequestType.">USB_REQUEST_RECIPIENT</a>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f0ec7131e6973c1b3d5e57d51b356f4f" title="Characteristics of the request.">bmRequestType</a> ) )
<a name="l00151"></a>00151             {
<a name="l00152"></a>00152                 <span class="comment">//-------------------------</span>
<a name="l00153"></a>00153                 <span class="keywordflow">case</span> <a class="code" href="namespace_u_s_b.html#52c279197627da7fbfcb32acca69174a2db2220dd1ac54d7b81d880496ac803a" title="Recipient is the whole device.">USB_RECIPIENT_DEVICE</a>:
<a name="l00154"></a>00154                 <span class="comment">//-------------------------</span>
<a name="l00155"></a>00155                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Dev "</span> );
<a name="l00156"></a>00156                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#85d8b67da9e0c9b66500b7fd453d7ddd" title="Sends the current device status to the host.">GetDeviceStatus</a> ();
<a name="l00157"></a>00157                     <span class="keywordflow">break</span>;
<a name="l00158"></a>00158         
<a name="l00159"></a>00159                 <span class="comment">//---------------------------</span>
<a name="l00160"></a>00160                 <span class="keywordflow">case</span> <a class="code" href="namespace_u_s_b.html#52c279197627da7fbfcb32acca69174af78f7e5d25dc6f7775fabfe189c0a1f7" title="Recipient is an endpoint.">USB_RECIPIENT_ENDPOINT</a>:
<a name="l00161"></a>00161                 <span class="comment">//---------------------------</span>
<a name="l00162"></a>00162                     <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"Ept "</span> );
<a name="l00163"></a>00163                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#f7dbc7bff8bf0f567b2935c05384e920" title="Sends the current status of specified endpoint to the host.">GetEndpointStatus</a>( <a class="code" href="common_8h.html#b470cd9fdf2381c86c5f41ff3d417348">LBYTE</a>(pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#eae7f94003988b3ec9bd618b0a333a79" title="Request-specific parameter.">wIndex</a>) );
<a name="l00164"></a>00164                     <span class="keywordflow">break</span>;
<a name="l00165"></a>00165         
<a name="l00166"></a>00166                 <span class="comment">//------</span>
<a name="l00167"></a>00167                 <span class="keywordflow">default</span>:
<a name="l00168"></a>00168                 <span class="comment">//------</span>
<a name="l00169"></a>00169                     <a class="code" href="trace_8h.html#72b9761add7486364dba449091cd2579">TRACE_WARNING</a>(
<a name="l00170"></a>00170                         <span class="stringliteral">"W: STD::RequestHandler: Unsupported GetStatus 0x%02X\n"</span>,
<a name="l00171"></a>00171                         pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#f0ec7131e6973c1b3d5e57d51b356f4f" title="Characteristics of the request.">bmRequestType</a>
<a name="l00172"></a>00172                     );
<a name="l00173"></a>00173                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00174"></a>00174                     <span class="keywordflow">break</span>;
<a name="l00175"></a>00175             }
<a name="l00176"></a>00176             <span class="keywordflow">break</span>;
<a name="l00177"></a>00177     
<a name="l00178"></a>00178         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00179"></a>00179         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99bee9b307d3f99537eee60ea54a2f3530">USB_SET_FEATURE</a>: <span class="comment">// bRequest</span>
<a name="l00180"></a>00180         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00181"></a>00181             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"sFeat "</span> );
<a name="l00182"></a>00182     
<a name="l00183"></a>00183             <span class="keywordflow">switch</span>( pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> )
<a name="l00184"></a>00184             {
<a name="l00185"></a>00185                 <span class="comment">//---------------------</span>
<a name="l00186"></a>00186                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg69f99dd6b2e50cce11cd4236cdcbe424530b6672697a789153c74233ef5d745b" title="Halt feature of an endpoint.">USB_ENDPOINT_HALT</a>:
<a name="l00187"></a>00187                 <span class="comment">//---------------------</span>
<a name="l00188"></a>00188                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2" title="Clears, sets or retrieves the halt state of the specified endpoint.">Halt</a>( <a class="code" href="common_8h.html#b470cd9fdf2381c86c5f41ff3d417348">LBYTE</a>(pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#eae7f94003988b3ec9bd618b0a333a79" title="Request-specific parameter.">wIndex</a>), <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c99bee9b307d3f99537eee60ea54a2f3530">USB_SET_FEATURE</a> );
<a name="l00189"></a>00189                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c" title="Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.">SendZLP0</a> ();
<a name="l00190"></a>00190                     <span class="keywordflow">break</span>;
<a name="l00191"></a>00191         
<a name="l00192"></a>00192                 <span class="comment">//----------------------------</span>
<a name="l00193"></a>00193                 <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gg69f99dd6b2e50cce11cd4236cdcbe424b613d506364fdb5dbef25d95349f91d9" title="Remote wake-up feature of the device.">USB_DEVICE_REMOTE_WAKEUP</a>:
<a name="l00194"></a>00194                 <span class="comment">//----------------------------</span>
<a name="l00195"></a>00195                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">wDeviceStatus</a> |= <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1641f2c157cc2407d3b93fc049e405a712ac0fddd9659a6bccb6a5c8060606e1">REMOTE_WAKEUP</a>; <span class="comment">// Remote wakeup enabled</span>
<a name="l00196"></a>00196                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c" title="Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.">SendZLP0</a> ();
<a name="l00197"></a>00197                     <span class="keywordflow">break</span>;
<a name="l00198"></a>00198         
<a name="l00199"></a>00199                 <span class="comment">//------</span>
<a name="l00200"></a>00200                 <span class="keywordflow">default</span>:
<a name="l00201"></a>00201                 <span class="comment">//------</span>
<a name="l00202"></a>00202                     <a class="code" href="trace_8h.html#72b9761add7486364dba449091cd2579">TRACE_WARNING</a>(
<a name="l00203"></a>00203                         <span class="stringliteral">"W: STD::RequestHandler: Unsupported SetFeature 0x%04X\n"</span>,
<a name="l00204"></a>00204                         pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a>
<a name="l00205"></a>00205                     );
<a name="l00206"></a>00206                     <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00207"></a>00207                     <span class="keywordflow">break</span>;
<a name="l00208"></a>00208                 }
<a name="l00209"></a>00209             <span class="keywordflow">break</span>;
<a name="l00210"></a>00210     
<a name="l00211"></a>00211         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00212"></a>00212         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c998c97f1fbee73103b0d16e1833a473c62">USB_GET_INTERFACE</a>: <span class="comment">// bRequest</span>
<a name="l00213"></a>00213         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00214"></a>00214             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"gIface %d "</span>, pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#eae7f94003988b3ec9bd618b0a333a79" title="Request-specific parameter.">wIndex</a> );
<a name="l00215"></a>00215             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"[not supported] "</span> );
<a name="l00216"></a>00216             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00217"></a>00217             <span class="keywordflow">break</span>;
<a name="l00218"></a>00218 
<a name="l00219"></a>00219         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00220"></a>00220         <span class="keywordflow">case</span> <a class="code" href="group__usb__std.html#gga0a25c6e4fdae93c28d791ac803b0c998bce1279399832b74305827aa23a9ecf">USB_SET_INTERFACE</a>: <span class="comment">// bRequest</span>
<a name="l00221"></a>00221         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00222"></a>00222             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"sIface %d / %d "</span>, pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#eae7f94003988b3ec9bd618b0a333a79" title="Request-specific parameter.">wIndex</a>, pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#7054b00f8fb4f5e1f2fe33c24d04bc1c" title="Request-specific parameter.">wValue</a> );
<a name="l00223"></a>00223             <a class="code" href="trace_8h.html#e5a536c839faf35fa9396e29abf2a0ab">TRACE_DEBUG_M</a>( <span class="stringliteral">"[not supported] "</span> );
<a name="l00224"></a>00224             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00225"></a>00225             <span class="keywordflow">break</span>;
<a name="l00226"></a>00226 
<a name="l00227"></a>00227         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00228"></a>00228         <span class="keywordflow">default</span>: <span class="comment">// bRequest</span>
<a name="l00229"></a>00229         <span class="comment">//-------------------------------------------------------------------------------</span>
<a name="l00230"></a>00230             <a class="code" href="trace_8h.html#72b9761add7486364dba449091cd2579">TRACE_WARNING</a>(
<a name="l00231"></a>00231                 <span class="stringliteral">"W: STD::RequestHandler: Unsupported Request 0x%02X\n"</span>,
<a name="l00232"></a>00232                 pSetup-&gt;<a class="code" href="struct_u_s_b_1_1_s__usb__request.html#bcbed404a52fab81989a7bf2c49f6a7f" title="Particular request.">bRequest</a>
<a name="l00233"></a>00233             );
<a name="l00234"></a>00234             <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9" title="Sends a STALL handshake for the next received packet.">Stall</a> ();
<a name="l00235"></a>00235             <span class="keywordflow">break</span>;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="770fc157d10920c6c262bcd828089d15"></a><!-- doxytag: member="USB::CSTD::EventHandler" ref="770fc157d10920c6c262bcd828089d15" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::EventHandler           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Low-level usb driver interrupt handler. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01320">1320</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#bf134a2c91076fdae5d9d3ba640965b4">USB::CUsbDriver::EventHandler()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_tasks_8cpp-source.html#l00018">ISR_USB()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01321"></a>01321     {
<a name="l01322"></a>01322         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;EventHandler ();
<a name="l01323"></a>01323     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9cd9bb3516150b1e0821a01902ef7f2c"></a><!-- doxytag: member="USB::CSTD::Init" ref="9cd9bb3516150b1e0821a01902ef7f2c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::Init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API and the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01328">1328</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#8283e8a401d26b00151ca4bdcf1d5347">USB::CUsbDriver::Init()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_tasks_8cpp-source.html#l00206">portTASK_FUNCTION()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01329"></a>01329     {
<a name="l01330"></a>01330         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Init ();
<a name="l01331"></a>01331     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="98f1867ea032111a20eb818405f10582"></a><!-- doxytag: member="USB::CSTD::IsPowered" ref="98f1867ea032111a20eb818405f10582" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CSTD::IsPowered           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return true if device is powered. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01336">1336</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l01017">USB::CUsbDriver::IsStateSet()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00349">USB::USB_STATE_POWERED</a>.</p>

<p>Referenced by <a class="el" href="usb_tasks_8cpp-source.html#l00206">portTASK_FUNCTION()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01337"></a>01337     {
<a name="l01338"></a>01338         <span class="keywordflow">return</span> <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;IsStateSet( <a class="code" href="namespace_u_s_b.html#4b424fb02cb835b833b701f65aaa38bd3a9bc888354edfd6d7e8f504d85c23d5" title="Powered state.">USB_STATE_POWERED</a> );
<a name="l01339"></a>01339     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="49b9083f89f076dc13bbdb17a42615a1"></a><!-- doxytag: member="USB::CSTD::Connect" ref="49b9083f89f076dc13bbdb17a42615a1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::Connect           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connect to device. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01344">1344</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#ad2cf37511b7f5cd6c27b799fd7c20eb">USB::CUsbDriver::Connect()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_tasks_8cpp-source.html#l00206">portTASK_FUNCTION()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01345"></a>01345     {
<a name="l01346"></a>01346         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Connect ();
<a name="l01347"></a>01347     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0e11bf23e8398d0a74e8cb9f0a2d9935"></a><!-- doxytag: member="USB::CSTD::Attach" ref="0e11bf23e8398d0a74e8cb9f0a2d9935" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CSTD::Attach           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attach device to <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> bus. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01352">1352</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#39a3359cccdcedde01052f3b7ecd9a16">USB::CUsbDriver::Attach()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01110">pDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_callbacks_8cpp-source.html#l00036">anonymous_namespace{usbCallbacks.cpp}::ISR_VBus()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01353"></a>01353     {
<a name="l01354"></a>01354         <a class="code" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725" title="Pointer to usb driver instance.">pDriver</a>-&gt;Attach ();
<a name="l01355"></a>01355     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="1f8a0f5b1dd8cfb810cd3e66a344b725"></a><!-- doxytag: member="USB::CSTD::pDriver" ref="1f8a0f5b1dd8cfb810cd3e66a344b725" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html">CUsbDriver</a>* <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#1f8a0f5b1dd8cfb810cd3e66a344b725">USB::CSTD::pDriver</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to usb driver instance. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01110">1110</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01352">Attach()</a>, <a class="el" href="usb_c_d_c_8cpp-source.html#l00352">USB::CCDC::CCDC()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01133">ConfigureEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01344">Connect()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01309">CSTD()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01320">EventHandler()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01171">GetConfiguration()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01235">GetConfigurationDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01219">GetDeviceDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01180">GetDeviceStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01202">GetEndpointStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01286">GetStringDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01328">Init()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01336">IsPowered()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01125">OnSetAddress()</a>, <a class="el" href="usb_c_d_c_8cpp-source.html#l00257">USB::CCDC::OnSetLineCoding()</a>, <a class="el" href="usb_c_d_c_8hpp-source.html#l00403">USB::CCDC::Read()</a>, <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>, <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01163">SetConfiguration()</a>, and <a class="el" href="usb_c_d_c_8hpp-source.html#l00424">USB::CCDC::Write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="61e6639bbe8c6b3202dda9f8da1d2083"></a><!-- doxytag: member="USB::CSTD::pDescriptors" ref="61e6639bbe8c6b3202dda9f8da1d2083" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_u_s_b_1_1_s__std__descriptors.html">S_std_descriptors</a>* <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#61e6639bbe8c6b3202dda9f8da1d2083">USB::CSTD::pDescriptors</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to the list of descriptors used by the device 
<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01111">1111</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_c_d_c_8cpp-source.html#l00352">USB::CCDC::CCDC()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01133">ConfigureEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01235">GetConfigurationDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01219">GetDeviceDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01180">GetDeviceStatus()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01286">GetStringDescriptor()</a>.</p>

</div>
</div><p>
<a class="anchor" name="40c652b9a48f11f23dc60b9cf57ce1b2"></a><!-- doxytag: member="USB::CSTD::wDeviceStatus" ref="40c652b9a48f11f23dc60b9cf57ce1b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#40c652b9a48f11f23dc60b9cf57ce1b2">USB::CSTD::wDeviceStatus</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Data buffer used for information returned by a GetStatus() request to a Device <dl class="see" compact><dt><b>See also:</b></dt><dd><a href="../usb_20.pdf">USB Specification 2.0</a> Figure 9-4 </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01113">1113</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01180">GetDeviceStatus()</a>, and <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">RequestHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a3e9eb2e691153acd2c2017ff8b0c97f"></a><!-- doxytag: member="USB::CSTD::wData" ref="a3e9eb2e691153acd2c2017ff8b0c97f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#b95f123a6c9bcfee6a343170ef8c5f69">ushort</a> <a class="el" href="class_u_s_b_1_1_c_s_t_d.html#a3e9eb2e691153acd2c2017ff8b0c97f">USB::CSTD::wData</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Temporary data buffer used by pDriver-&gt;Write() 
<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01116">1116</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01171">GetConfiguration()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01202">GetEndpointStatus()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/inc/<a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a><li>src/usb/<a class="el" href="usb_s_t_d_8cpp-source.html">usbSTD.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Mar 10 02:42:35 2008 for XPU-DSAM7S by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
