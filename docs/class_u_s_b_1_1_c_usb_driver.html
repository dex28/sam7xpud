<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>XPU-DSAM7S: USB::CUsbDriver Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_u_s_b.html">USB</a>::<a class="el" href="class_u_s_b_1_1_c_usb_driver.html">CUsbDriver</a>
  </div>
</div>
<div class="contents">
<h1>USB::CUsbDriver Class Reference</h1><!-- doxytag: class="USB::CUsbDriver" -->Low-level <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> device driver abstract class.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for USB::CUsbDriver:</div>
<div class="dynsection">

<p><center><img src="class_u_s_b_1_1_c_usb_driver.png" usemap="#USB::CUsbDriver_map" border="0" alt=""></center>
<map name="USB::CUsbDriver_map">
<area href="class_c_udp_driver.html" alt="CUdpDriver" shape="rect" coords="0,56,108,80">
</map>
</div>

<p>
<a href="class_u_s_b_1_1_c_usb_driver-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#b8613a7a4721ec152a2c191642051176">GetInterface</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API Methods.  <a href="#b8613a7a4721ec152a2c191642051176"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#1e0621b29740c428593c29bfc494b671">GetDriverID</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral ID of a <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance.  <a href="#1e0621b29740c428593c29bfc494b671"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#8283e8a401d26b00151ca4bdcf1d5347">Init</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API and the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller.  <a href="#8283e8a401d26b00151ca4bdcf1d5347"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">Write</a> (int bEndpoint, const void *pData, <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> dLength, <a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a> fCallback=0, void *pArgument=0, const void *pDataLowerBound=0, const void *pDataUpperBound=0)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends data through an <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> endpoint.  <a href="#4e5d4071c6c408307960ddd082ee7936"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#01a59ea1ec36a6ba43ab64640425ad35">Read</a> (int bEndpoint, void *pData, <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> dLength, <a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a> fCallback=0, void *pArgument=0)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receives data on the specified <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> endpoint.  <a href="#01a59ea1ec36a6ba43ab64640425ad35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#7d6336a5dae2af83cacbc06b23e012c9">Stall</a> (int bEndpoint=0)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a STALL handshake for the next received packet.  <a href="#7d6336a5dae2af83cacbc06b23e012c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2">Halt</a> (int bEndpoint, int bRequest)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears, sets or retrieves the halt state of the specified endpoint.  <a href="#3109e130f7d149e66b9a75fb650736e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#c059e12d22e2468fa00f5e3031560f5b">RemoteWakeUp</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts a remote wakeup procedure.  <a href="#c059e12d22e2468fa00f5e3031560f5b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e1226551977f53cc3a9e8411c7264e13">ConfigureEndpoint</a> (const <a class="el" href="struct_u_s_b_1_1_s__usb__endpoint__descriptor.html">S_usb_endpoint_descriptor</a> *pEpDesc)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures the specified endpoint using the provided endpoint descriptor.  <a href="#e1226551977f53cc3a9e8411c7264e13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#39a3359cccdcedde01052f3b7ecd9a16">Attach</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the attachment or detachment of the device to or from the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>.  <a href="#39a3359cccdcedde01052f3b7ecd9a16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4ac664ad2530ff764689a0f8eb7210d2">SetAddress</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device address using the last received SETUP packet.  <a href="#4ac664ad2530ff764689a0f8eb7210d2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#5ae347a153c69dc160eba2e1e8d4a0a8">SetConfiguration</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device configuration using the last received SETUP packet.  <a href="#5ae347a153c69dc160eba2e1e8d4a0a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#bf134a2c91076fdae5d9d3ba640965b4">EventHandler</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Event handler for the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral.  <a href="#bf134a2c91076fdae5d9d3ba640965b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#ad2cf37511b7f5cd6c27b799fd7c20eb">Connect</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects the device to the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>.  <a href="#ad2cf37511b7f5cd6c27b799fd7c20eb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#cc9e26b895ca0b9b491a6357bf337514">Disconnect</a> (void)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnects the device from the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>. This method disables the pull-up resistor on the D+ line, notifying the host that the device wishes to disconnect from the bus.  <a href="#cc9e26b895ca0b9b491a6357bf337514"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e0b06ea3bf91731d2702bac898791215">LinkTo</a> (<a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a> *pArgEventSink, <a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a> *pArgBoard)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Link device driver to <a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> instance so <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> methods could send callbacks properly.  <a href="#e0b06ea3bf91731d2702bac898791215"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_s_b_1_1_s__usb__request.html">S_usb_request</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e0c4391c9504d8acb41c103693f7da24">GetSetup</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the last received SETUP request.  <a href="#e0c4391c9504d8acb41c103693f7da24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#ba060d49b6d1b7150245405dec92a2e2">IsStateSet</a> (<a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> flags) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Poll the status of flags in dStatus register.  <a href="#ba060d49b6d1b7150245405dec92a2e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#14a859e6e1fbba02797c1cf948f8d127">IsStateCleared</a> (<a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> flags) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Poll the status of flag(s) in dStatus register.  <a href="#14a859e6e1fbba02797c1cf948f8d127"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#fbc77b8cc21dede29c8902d5227c37e4">GetNumEndpoints</a> (void) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a number of configured endpoints.  <a href="#fbc77b8cc21dede29c8902d5227c37e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#c47b8d602b69d74a095659b1ef64b3dc">SetEndpointList</a> (<a class="el" href="class_u_s_b_1_1_c_endpoint.html">CEndpoint</a> *list, int count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Establish the list of configured endpoints.  <a href="#c47b8d602b69d74a095659b1ef64b3dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#3ed84ed3241def4a815480197c8c377c">SendZLP0</a> (<a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a> fCallback=0, void *pArgument=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a Zero-Length Packet (ZLP) through the Control endpoint 0.  <a href="#3ed84ed3241def4a815480197c8c377c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#ba5c3d1c32249103feef1fb1f3ae9022">CUsbDriver</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. Just nullify/disable everything.  <a href="#ba5c3d1c32249103feef1fb1f3ae9022"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#a64fb09dc12bfcd63241ed9f8cd282d9">SetState</a> (<a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set flag(s) in dStatus register.  <a href="#a64fb09dc12bfcd63241ed9f8cd282d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#1aab07c6a713076a742c535c0dec3d38">ClearState</a> (<a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> flags=0xFFFF)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear flag(s) in dStatus register. If the method is called without arguments, it will set dState to 0.  <a href="#1aab07c6a713076a742c535c0dec3d38"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#fff7a79587118ff01493c7ad5aa922d1">pEventSink</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to associated <a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> instance.  <a href="#fff7a79587118ff01493c7ad5aa922d1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#64525692d796e77f889bf02d32487d18">pBoard</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to associated <a class="el" href="class_u_s_b_1_1_c_board.html" title="Abstract class that declares board specific control of D+ pull up and VBUS detection...">CBoard</a> instance.  <a href="#64525692d796e77f889bf02d32487d18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_u_s_b_1_1_c_endpoint.html">CEndpoint</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#095c0170800f07cb60bb86218553933c">pEndpoints</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Endpoints list.  <a href="#095c0170800f07cb60bb86218553933c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#0742d93f329309a1961871cca9d23ae0">dNumEndpoints</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of endpoints in list.  <a href="#0742d93f329309a1961871cca9d23ae0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct_u_s_b_1_1_s__usb__request.html">S_usb_request</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e291dea0fc434bbc3a6ce8e72c630e5e">sSetup</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to the last received SETUP packet.  <a href="#e291dea0fc434bbc3a6ce8e72c630e5e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">volatile <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a">dState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current state of the device.  <a href="#57eb020d26a1130afba43b24576cff0a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#6a49f7a52fb84e6a7054c66c6d4a9f21">useSOFCallback</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates wether to forward StartOfFrame events.  <a href="#6a49f7a52fb84e6a7054c66c6d4a9f21"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Low-level <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> device driver abstract class. 
<p>
This class is used to provide an abstraction over which <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller is used by the chip. This means the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> framework is fully portable between AT91 chips and supports chips with more than one controller. The structure holds information about the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller used, such as a pointer to the physical address of the peripheral, to the endpoints FIFO, etc. In most case, it is not necessary to declare a <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance: the defaultDriver global variable can be used. This is not possible for chips which have more than one <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller in them, where each controller must have separate <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00762">762</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="ba5c3d1c32249103feef1fb1f3ae9022"></a><!-- doxytag: member="USB::CUsbDriver::CUsbDriver" ref="ba5c3d1c32249103feef1fb1f3ae9022" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB::CUsbDriver::CUsbDriver           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. Just nullify/disable everything. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00777">777</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00769">dNumEndpoints</a>, <a class="el" href="usb_framework_8hpp-source.html#l00771">dState</a>, <a class="el" href="usb_framework_8hpp-source.html#l00767">pBoard</a>, <a class="el" href="usb_framework_8hpp-source.html#l00768">pEndpoints</a>, <a class="el" href="usb_framework_8hpp-source.html#l00766">pEventSink</a>, <a class="el" href="trace_8h-source.html#l00061">TRACE_INFO</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00772">useSOFCallback</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00778"></a>00778     {
<a name="l00779"></a>00779         <a class="code" href="trace_8h.html#7339bfd784193a5c79efcef2eeb2d6df">TRACE_INFO</a>( <span class="stringliteral">"CUsbDriver %08x\n"</span>, <a class="code" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>( <span class="keyword">this</span> ) );
<a name="l00780"></a>00780 
<a name="l00781"></a>00781         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#fff7a79587118ff01493c7ad5aa922d1" title="Pointer to associated CEventSink instance.">pEventSink</a>     = 0;
<a name="l00782"></a>00782         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#64525692d796e77f889bf02d32487d18" title="Pointer to associated CBoard instance.">pBoard</a>         = 0;
<a name="l00783"></a>00783         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#095c0170800f07cb60bb86218553933c" title="Endpoints list.">pEndpoints</a>     = 0;
<a name="l00784"></a>00784         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#0742d93f329309a1961871cca9d23ae0" title="Number of endpoints in list.">dNumEndpoints</a>  = 0;
<a name="l00785"></a>00785         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a" title="Current state of the device.">dState</a>         = 0;
<a name="l00786"></a>00786         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#6a49f7a52fb84e6a7054c66c6d4a9f21" title="Indicates wether to forward StartOfFrame events.">useSOFCallback</a> = <span class="keyword">false</span>;
<a name="l00787"></a>00787     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a64fb09dc12bfcd63241ed9f8cd282d9"></a><!-- doxytag: member="USB::CUsbDriver::SetState" ref="a64fb09dc12bfcd63241ed9f8cd282d9" args="(uint flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CUsbDriver::SetState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set flag(s) in dStatus register. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00792">792</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00771">dState</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l01328">CUdpDriver::Attach()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00870">CUdpDriver::EventHandler()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01423">CUdpDriver::SetAddress()</a>, and <a class="el" href="usb_u_d_p_8cpp-source.html#l01457">CUdpDriver::SetConfiguration()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00793"></a>00793     {
<a name="l00794"></a>00794         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a" title="Current state of the device.">dState</a> |= flags;
<a name="l00795"></a>00795     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1aab07c6a713076a742c535c0dec3d38"></a><!-- doxytag: member="USB::CUsbDriver::ClearState" ref="1aab07c6a713076a742c535c0dec3d38" args="(uint flags=0xFFFF)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CUsbDriver::ClearState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0xFFFF</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clear flag(s) in dStatus register. If the method is called without arguments, it will set dState to 0. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00800">800</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00771">dState</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l01328">CUdpDriver::Attach()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01507">CUdpDriver::Disconnect()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00870">CUdpDriver::EventHandler()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01423">CUdpDriver::SetAddress()</a>, and <a class="el" href="usb_u_d_p_8cpp-source.html#l01457">CUdpDriver::SetConfiguration()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00801"></a>00801     {
<a name="l00802"></a>00802         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a" title="Current state of the device.">dState</a> &amp;= ~flags;
<a name="l00803"></a>00803     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b8613a7a4721ec152a2c191642051176"></a><!-- doxytag: member="USB::CUsbDriver::GetInterface" ref="b8613a7a4721ec152a2c191642051176" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* USB::CUsbDriver::GetInterface           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API Methods. 
<p>
Methods provided by the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API to manipulate a <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> driver. Returns a pointer to the UDP controller interface used by an <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> driver. The pointer is cast to the correct type (AT91PS_UDP). 
<p>Implemented in <a class="el" href="class_c_udp_driver.html#42223dfccbe074e52aa7d479673fe2eb">CUdpDriver</a>.</p>

</div>
</div><p>
<a class="anchor" name="1e0621b29740c428593c29bfc494b671"></a><!-- doxytag: member="USB::CUsbDriver::GetDriverID" ref="1e0621b29740c428593c29bfc494b671" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> USB::CUsbDriver::GetDriverID           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral ID of a <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> instance. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral ID </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#b079ba266637f6b00d017388ba2610df">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_callbacks_8cpp-source.html#l00131">anonymous_namespace{usbCallbacks.cpp}::CCallbacks::OnInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8283e8a401d26b00151ca4bdcf1d5347"></a><!-- doxytag: member="USB::CUsbDriver::Init" ref="8283e8a401d26b00151ca4bdcf1d5347" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::Init           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> API and the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller. 
<p>
This method must be called prior to using an other <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> method. Before finishing, it invokes the <a class="el" href="class_u_s_b_1_1_c_event_sink.html#a56d9cef0c8a010d25ff5d09d019e4ab" title="Callback API (usb_api_callbacks).">CEventSink::OnInit</a> callback. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_event_sink.html#a56d9cef0c8a010d25ff5d09d019e4ab" title="Callback API (usb_api_callbacks).">CEventSink::OnInit</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#470ca17d526df70db31441ef23325dd4">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01328">USB::CSTD::Init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4e5d4071c6c408307960ddd082ee7936"></a><!-- doxytag: member="USB::CUsbDriver::Write" ref="4e5d4071c6c408307960ddd082ee7936" args="(int bEndpoint, const void *pData, uint dLength, Callback_f fCallback=0, void *pArgument=0, const void *pDataLowerBound=0, const void *pDataUpperBound=0)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a> USB::CUsbDriver::Write           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bEndpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>dLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a>&nbsp;</td>
          <td class="paramname"> <em>fCallback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pArgument</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pDataLowerBound</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>pDataUpperBound</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends data through an <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> endpoint. 
<p>
This method sends the specified amount of data through a particular endpoint. The transfer finishes either when the data has been completely sent, or an abnormal condition causes the API to abort this operation. An optional user-provided callback can be invoked once the transfer is complete. On control endpoints, this function automatically send a Zero-Length Packet (ZLP) if the data payload size is a multiple of the endpoint maximum packet size. This is not the case for bulk, interrupt or isochronous endpoints. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bEndpoint</em>&nbsp;</td><td>Number of the endpoint through which to send the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pData</em>&nbsp;</td><td>Pointer to a buffer containing the data to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dLength</em>&nbsp;</td><td>Size of the data buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fCallback</em>&nbsp;</td><td>Callback function to invoke when the transfer finishes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pArgument</em>&nbsp;</td><td>Optional parameter to pass to the callback function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pDataLowerBound</em>&nbsp;</td><td>Lower bound of the circular buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pDataUpperBound</em>&nbsp;</td><td>Upper bound of the circular buffer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Result of operation </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf" title="Values returned by the usb device driver API methods.">EnumStandardReturnValue</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#a7721b2c4e62455efceb0f3c29a24b2a">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01171">USB::CSTD::GetConfiguration()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01235">USB::CSTD::GetConfigurationDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01219">USB::CSTD::GetDeviceDescriptor()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01180">USB::CSTD::GetDeviceStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01202">USB::CSTD::GetEndpointStatus()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01286">USB::CSTD::GetStringDescriptor()</a>, <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01059">SendZLP0()</a>, and <a class="el" href="usb_c_d_c_8hpp-source.html#l00424">USB::CCDC::Write()</a>.</p>

</div>
</div><p>
<a class="anchor" name="01a59ea1ec36a6ba43ab64640425ad35"></a><!-- doxytag: member="USB::CUsbDriver::Read" ref="01a59ea1ec36a6ba43ab64640425ad35" args="(int bEndpoint, void *pData, uint dLength, Callback_f fCallback=0, void *pArgument=0)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a> USB::CUsbDriver::Read           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bEndpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>dLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a>&nbsp;</td>
          <td class="paramname"> <em>fCallback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pArgument</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receives data on the specified <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> endpoint. 
<p>
This functions receives data on a particular endpoint. It finishes either when the provided buffer is full, when a short packet (payload size inferior to the endpoint maximum packet size) is received, or if an abnormal condition causes a transfer abort. An optional user-provided callback can be invoked upon the transfer completion <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bEndpoint</em>&nbsp;</td><td>Number of the endpoint on which to receive the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pData</em>&nbsp;</td><td>Pointer to the buffer in which to store the received data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dLength</em>&nbsp;</td><td>Size of the receive buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fCallback</em>&nbsp;</td><td>Optional user-provided callback function invoked upon the transfer completion </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pArgument</em>&nbsp;</td><td>Optional parameter to pass to the callback function </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Result of operation </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf" title="Values returned by the usb device driver API methods.">EnumStandardReturnValue</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#26eb83a7a04131c8f7c529ee3fcad846">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_c_d_c_8hpp-source.html#l00403">USB::CCDC::Read()</a>, and <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7d6336a5dae2af83cacbc06b23e012c9"></a><!-- doxytag: member="USB::CUsbDriver::Stall" ref="7d6336a5dae2af83cacbc06b23e012c9" args="(int bEndpoint=0)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a> USB::CUsbDriver::Stall           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bEndpoint</em> = <code>0</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a STALL handshake for the next received packet. 
<p>
This function only send one STALL handshake, and only if the next packet is not a SETUP packet (when using this function on a control endpoint). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bEndpoint</em>&nbsp;</td><td>Number of endpoint on which to send the STALL </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Result of operation </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf" title="Values returned by the usb device driver API methods.">EnumStandardReturnValue</a> <p>
<a class="el" href="class_u_s_b_1_1_c_usb_driver.html#3109e130f7d149e66b9a75fb650736e2" title="Clears, sets or retrieves the halt state of the specified endpoint.">CUsbDriver::Halt</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#cf2898cdd641b3c522a0f2c40b72206f">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">USB::CSTD::RequestHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3109e130f7d149e66b9a75fb650736e2"></a><!-- doxytag: member="USB::CUsbDriver::Halt" ref="3109e130f7d149e66b9a75fb650736e2" args="(int bEndpoint, int bRequest)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CUsbDriver::Halt           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bEndpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bRequest</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clears, sets or retrieves the halt state of the specified endpoint. 
<p>
While an endpoint is in Halt state, it acknowledges every received packet with a STALL handshake. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bEndpoint</em>&nbsp;</td><td>Number of the endpoint to alter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bRequest</em>&nbsp;</td><td>The operation to perform (set, clear or get) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the endpoint is halted, false otherwise </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#731233a0654277219ef0148319c0761e">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01202">USB::CSTD::GetEndpointStatus()</a>, and <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">USB::CSTD::RequestHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c059e12d22e2468fa00f5e3031560f5b"></a><!-- doxytag: member="USB::CUsbDriver::RemoteWakeUp" ref="c059e12d22e2468fa00f5e3031560f5b" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::RemoteWakeUp           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts a remote wakeup procedure. 
<p>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#e433e33b63d698c98ebbe7f97c4b4b11">CUdpDriver</a>.</p>

</div>
</div><p>
<a class="anchor" name="e1226551977f53cc3a9e8411c7264e13"></a><!-- doxytag: member="USB::CUsbDriver::ConfigureEndpoint" ref="e1226551977f53cc3a9e8411c7264e13" args="(const S_usb_endpoint_descriptor *pEpDesc)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CUsbDriver::ConfigureEndpoint           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_u_s_b_1_1_s__usb__endpoint__descriptor.html">S_usb_endpoint_descriptor</a> *&nbsp;</td>
          <td class="paramname"> <em>pEpDesc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configures the specified endpoint using the provided endpoint descriptor. 
<p>
An endpoint must be configured prior to being used. This is not necessary for control endpoint 0, as this operation is automatically performed during initialization. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pEpDesc</em>&nbsp;</td><td>Pointer to an endpoint descriptor </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the endpoint has been configured, false otherwise </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="struct_u_s_b_1_1_s__usb__endpoint__descriptor.html" title="This structure is the standard endpoint descriptor. It contains the necessary information...">S_usb_endpoint_descriptor</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#f4d41ab77f6c6c68dbb0af8c548c726f">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01133">USB::CSTD::ConfigureEndpoints()</a>.</p>

</div>
</div><p>
<a class="anchor" name="39a3359cccdcedde01052f3b7ecd9a16"></a><!-- doxytag: member="USB::CUsbDriver::Attach" ref="39a3359cccdcedde01052f3b7ecd9a16" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CUsbDriver::Attach           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles the attachment or detachment of the device to or from the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>. 
<p>
This method should be called whenever the VBus power line changes state, i.e. the device becomes powered/unpowered. Alternatively, it can also be called to poll the status of the device. When the device is detached from the bus, the <a class="el" href="class_u_s_b_1_1_c_event_sink.html#0a3d24d72b781f87e39d873cfda6dd9c" title="Suspend callback function.">CEventSink::OnSuspend</a> callback is invoked. Conversely, when the device is attached, the <a class="el" href="class_u_s_b_1_1_c_event_sink.html#8fc43e92b17a2f78210d5589dc5fd5aa" title="Resume callback function.">CEventSink::OnResume</a> callback is triggered. <dl class="return" compact><dt><b>Returns:</b></dt><dd>true if the device is currently attached, false otherwise </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_event_sink.html#0a3d24d72b781f87e39d873cfda6dd9c" title="Suspend callback function.">CEventSink::OnSuspend</a> <p>
<a class="el" href="class_u_s_b_1_1_c_event_sink.html#8fc43e92b17a2f78210d5589dc5fd5aa" title="Resume callback function.">CEventSink::OnResume</a> <p>
usb_api_callbacks </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#39943265011f48c86d097afb2d1cf285">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01352">USB::CSTD::Attach()</a>, and <a class="el" href="usb_callbacks_8cpp-source.html#l00131">anonymous_namespace{usbCallbacks.cpp}::CCallbacks::OnInit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4ac664ad2530ff764689a0f8eb7210d2"></a><!-- doxytag: member="USB::CUsbDriver::SetAddress" ref="4ac664ad2530ff764689a0f8eb7210d2" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::SetAddress           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the device address using the last received SETUP packet. 
<p>
This method must only be called after a SET_ADDRESS standard request has been received. This is because it uses the last received SETUP packet stored in the sSetup structure to determine which address the device should use. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__usb__std.html#ga0a25c6e4fdae93c28d791ac803b0c99" title="Standard Device Requests.">EnumStandardDeviceRequests</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#292d51e33ec7a054206e69b3b9395ef4">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01125">USB::CSTD::OnSetAddress()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5ae347a153c69dc160eba2e1e8d4a0a8"></a><!-- doxytag: member="USB::CUsbDriver::SetConfiguration" ref="5ae347a153c69dc160eba2e1e8d4a0a8" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::SetConfiguration           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the device configuration using the last received SETUP packet. 
<p>
This method must only be called after a SET_CONFIGURATION standard request has been received. This is necessary because it uses the last received SETUP packet (stored in the sSetup structure) to determine which configuration it should adopt. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__usb__std.html#ga0a25c6e4fdae93c28d791ac803b0c99" title="Standard Device Requests.">EnumStandardDeviceRequests</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#53ff5988e2dc0f5e780d056e55e28283">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01133">USB::CSTD::ConfigureEndpoints()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf134a2c91076fdae5d9d3ba640965b4"></a><!-- doxytag: member="USB::CUsbDriver::EventHandler" ref="bf134a2c91076fdae5d9d3ba640965b4" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::EventHandler           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Event handler for the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral. 
<p>
This function handles low-level events comming from the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a> controller peripheral. It then dispatches those events through the user-provided callbacks. The following callbacks can be triggered:<ol type=1>
<li><a class="el" href="class_u_s_b_1_1_c_event_sink.html#23985c2758a4fd2b82000c035102aee5" title="Reset callback function.">CEventSink::OnReset</a></li><li><a class="el" href="class_u_s_b_1_1_c_event_sink.html#0a3d24d72b781f87e39d873cfda6dd9c" title="Suspend callback function.">CEventSink::OnSuspend</a></li><li><a class="el" href="class_u_s_b_1_1_c_event_sink.html#8fc43e92b17a2f78210d5589dc5fd5aa" title="Resume callback function.">CEventSink::OnResume</a></li><li><a class="el" href="class_u_s_b_1_1_c_event_sink.html#877065d65cda66442879aa5c299856ad" title="New Request callback function.">CEventSink::OnNewRequest</a> <dl class="see" compact><dt><b>See also:</b></dt><dd>usb_api_callbacks </dd></dl>
</li></ol>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#df47754ef8128230c4cefa247265a305">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01320">USB::CSTD::EventHandler()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ad2cf37511b7f5cd6c27b799fd7c20eb"></a><!-- doxytag: member="USB::CUsbDriver::Connect" ref="ad2cf37511b7f5cd6c27b799fd7c20eb" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::Connect           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects the device to the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>. 
<p>
This method enables the pull-up resistor on the D+ line, notifying the host that the device wishes to connect to the bus. <dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#cc9e26b895ca0b9b491a6357bf337514" title="Disconnects the device from the USB. This method disables the pull-up resistor on...">CUsbDriver::Disconnect</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#9721403973d6af1963a444ab7c8ca162">CUdpDriver</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01344">USB::CSTD::Connect()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cc9e26b895ca0b9b491a6357bf337514"></a><!-- doxytag: member="USB::CUsbDriver::Disconnect" ref="cc9e26b895ca0b9b491a6357bf337514" args="(void)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void USB::CUsbDriver::Disconnect           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disconnects the device from the <a class="el" href="namespace_u_s_b.html" title="USB Framework namespace.">USB</a>. This method disables the pull-up resistor on the D+ line, notifying the host that the device wishes to disconnect from the bus. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="class_u_s_b_1_1_c_usb_driver.html#ad2cf37511b7f5cd6c27b799fd7c20eb" title="Connects the device to the USB.">CUsbDriver::Connect</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_udp_driver.html#a42ff5ccc0e5a31aee80d2d837ccf67f">CUdpDriver</a>.</p>

</div>
</div><p>
<a class="anchor" name="e0b06ea3bf91731d2702bac898791215"></a><!-- doxytag: member="USB::CUsbDriver::LinkTo" ref="e0b06ea3bf91731d2702bac898791215" args="(CEventSink *pArgEventSink, CBoard *pArgBoard)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CUsbDriver::LinkTo           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a> *&nbsp;</td>
          <td class="paramname"> <em>pArgEventSink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a> *&nbsp;</td>
          <td class="paramname"> <em>pArgBoard</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Link device driver to <a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> instance so <a class="el" href="class_u_s_b_1_1_c_usb_driver.html" title="Low-level USB device driver abstract class.">CUsbDriver</a> methods could send callbacks properly. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the <a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> instance </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00998">998</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00767">pBoard</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00766">pEventSink</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01309">USB::CSTD::CSTD()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00999"></a>00999     {
<a name="l01000"></a>01000         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#fff7a79587118ff01493c7ad5aa922d1" title="Pointer to associated CEventSink instance.">pEventSink</a> = pArgEventSink;
<a name="l01001"></a>01001         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#64525692d796e77f889bf02d32487d18" title="Pointer to associated CBoard instance.">pBoard</a> = pArgBoard;
<a name="l01002"></a>01002     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e0c4391c9504d8acb41c103693f7da24"></a><!-- doxytag: member="USB::CUsbDriver::GetSetup" ref="e0c4391c9504d8acb41c103693f7da24" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_1_1_s__usb__request.html">S_usb_request</a>* USB::CUsbDriver::GetSetup           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to the last received SETUP request. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to the last received SETUP request </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01008">1008</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00770">sSetup</a>.</p>

<p>Referenced by <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">USB::CSTD::RequestHandler()</a>, and <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01009"></a>01009     {
<a name="l01010"></a>01010         <span class="keywordflow">return</span> &amp;<a class="code" href="class_u_s_b_1_1_c_usb_driver.html#e291dea0fc434bbc3a6ce8e72c630e5e" title="Pointer to the last received SETUP packet.">sSetup</a>;
<a name="l01011"></a>01011     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ba060d49b6d1b7150245405dec92a2e2"></a><!-- doxytag: member="USB::CUsbDriver::IsStateSet" ref="ba060d49b6d1b7150245405dec92a2e2" args="(uint flags) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CUsbDriver::IsStateSet           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Poll the status of flags in dStatus register. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>bool true if flag(s) is/are set </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01017">1017</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00771">dState</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l01328">CUdpDriver::Attach()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00870">CUdpDriver::EventHandler()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01171">USB::CSTD::GetConfiguration()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01336">USB::CSTD::IsPowered()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01018"></a>01018     {
<a name="l01019"></a>01019         <span class="keywordflow">return</span> ( <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a" title="Current state of the device.">dState</a> &amp; flags ) == flags;
<a name="l01020"></a>01020     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="14a859e6e1fbba02797c1cf948f8d127"></a><!-- doxytag: member="USB::CUsbDriver::IsStateCleared" ref="14a859e6e1fbba02797c1cf948f8d127" args="(uint flags) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> USB::CUsbDriver::IsStateCleared           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Poll the status of flag(s) in dStatus register. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>bool true if flag(s) is/are cleared </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01026">1026</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00771">dState</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01027"></a>01027     {
<a name="l01028"></a>01028         <span class="keywordflow">return</span> ( <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a" title="Current state of the device.">dState</a> &amp; flags ) == 0;
<a name="l01029"></a>01029     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fbc77b8cc21dede29c8902d5227c37e4"></a><!-- doxytag: member="USB::CUsbDriver::GetNumEndpoints" ref="fbc77b8cc21dede29c8902d5227c37e4" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int USB::CUsbDriver::GetNumEndpoints           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a number of configured endpoints. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>uint number of configured endpoints </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01035">1035</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00769">dNumEndpoints</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l01133">USB::CSTD::ConfigureEndpoints()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01036"></a>01036     {
<a name="l01037"></a>01037         <span class="keywordflow">return</span> <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#0742d93f329309a1961871cca9d23ae0" title="Number of endpoints in list.">dNumEndpoints</a>;
<a name="l01038"></a>01038     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c47b8d602b69d74a095659b1ef64b3dc"></a><!-- doxytag: member="USB::CUsbDriver::SetEndpointList" ref="c47b8d602b69d74a095659b1ef64b3dc" args="(CEndpoint *list, int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USB::CUsbDriver::SetEndpointList           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_u_s_b_1_1_c_endpoint.html">CEndpoint</a> *&nbsp;</td>
          <td class="paramname"> <em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Establish the list of configured endpoints. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01043">1043</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="usb_framework_8hpp-source.html#l00769">dNumEndpoints</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00768">pEndpoints</a>.</p>

<p>Referenced by <a class="el" href="usb_c_d_c_8cpp-source.html#l00352">USB::CCDC::CCDC()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01044"></a>01044     {
<a name="l01045"></a>01045         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#095c0170800f07cb60bb86218553933c" title="Endpoints list.">pEndpoints</a>     = list;
<a name="l01046"></a>01046         <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#0742d93f329309a1961871cca9d23ae0" title="Number of endpoints in list.">dNumEndpoints</a>  = count;
<a name="l01047"></a>01047     }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3ed84ed3241def4a815480197c8c377c"></a><!-- doxytag: member="USB::CUsbDriver::SendZLP0" ref="3ed84ed3241def4a815480197c8c377c" args="(Callback_f fCallback=0, void *pArgument=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf">EnumStandardReturnValue</a> USB::CUsbDriver::SendZLP0           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="common_8h.html#a2b4c1da14449a039464b0a1703fb21b">Callback_f</a>&nbsp;</td>
          <td class="paramname"> <em>fCallback</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pArgument</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends a Zero-Length Packet (ZLP) through the Control endpoint 0. 
<p>
Since sending a ZLP on endpoint 0 is quite common, this function is provided as an overload to the <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936" title="Sends data through an USB endpoint.">CUsbDriver::Write</a> function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fCallback</em>&nbsp;</td><td>Optional callback function to invoke when the transfer finishes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pArgument</em>&nbsp;</td><td>Optional parameter to pass to the callback function </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Result of operation </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="namespace_u_s_b.html#70e8bfc29952edb58ad9672bcb778bdf" title="Values returned by the usb device driver API methods.">EnumStandardReturnValue</a> </dd></dl>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l01059">1059</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>References <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936">Write()</a>.</p>

<p>Referenced by <a class="el" href="usb_c_d_c_8cpp-source.html#l00257">USB::CCDC::OnSetLineCoding()</a>, <a class="el" href="usb_s_t_d_8cpp-source.html#l00019">USB::CSTD::RequestHandler()</a>, <a class="el" href="usb_c_d_c_8cpp-source.html#l00279">USB::CCDC::RequestHandler()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01163">USB::CSTD::SetConfiguration()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01060"></a>01060     {
<a name="l01061"></a>01061         <span class="keywordflow">return</span> <a class="code" href="class_u_s_b_1_1_c_usb_driver.html#4e5d4071c6c408307960ddd082ee7936" title="Sends data through an USB endpoint.">Write</a>( 0, 0, 0, fCallback, pArgument );
<a name="l01062"></a>01062     }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="fff7a79587118ff01493c7ad5aa922d1"></a><!-- doxytag: member="USB::CUsbDriver::pEventSink" ref="fff7a79587118ff01493c7ad5aa922d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_s_b_1_1_c_event_sink.html">CEventSink</a>* <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#fff7a79587118ff01493c7ad5aa922d1">USB::CUsbDriver::pEventSink</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to associated <a class="el" href="class_u_s_b_1_1_c_event_sink.html" title="Abstract class that declares various event sinks (callbacks) called by the USB low-level...">CEventSink</a> instance. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00766">766</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l01328">CUdpDriver::Attach()</a>, <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00559">CUdpDriver::EndpointHandler()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00870">CUdpDriver::EventHandler()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00998">LinkTo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="64525692d796e77f889bf02d32487d18"></a><!-- doxytag: member="USB::CUsbDriver::pBoard" ref="64525692d796e77f889bf02d32487d18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_s_b_1_1_c_board.html">CBoard</a>* <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#64525692d796e77f889bf02d32487d18">USB::CUsbDriver::pBoard</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to associated <a class="el" href="class_u_s_b_1_1_c_board.html" title="Abstract class that declares board specific control of D+ pull up and VBUS detection...">CBoard</a> instance. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00767">767</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l01328">CUdpDriver::Attach()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01488">CUdpDriver::Connect()</a>, <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01507">CUdpDriver::Disconnect()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00998">LinkTo()</a>.</p>

</div>
</div><p>
<a class="anchor" name="095c0170800f07cb60bb86218553933c"></a><!-- doxytag: member="USB::CUsbDriver::pEndpoints" ref="095c0170800f07cb60bb86218553933c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_s_b_1_1_c_endpoint.html">CEndpoint</a>* <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#095c0170800f07cb60bb86218553933c">USB::CUsbDriver::pEndpoints</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Endpoints list. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00768">768</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l00480">CUdpDriver::ClearRXFlag()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00785">CUdpDriver::ConfigureEndpoint()</a>, <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00541">CUdpDriver::DisableEndpoints()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00559">CUdpDriver::EndpointHandler()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00231">CUdpDriver::GetPayload()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01222">CUdpDriver::Halt()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01148">CUdpDriver::Read()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00511">CUdpDriver::ResetEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01043">SetEndpointList()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01284">CUdpDriver::Stall()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01081">CUdpDriver::Write()</a>, and <a class="el" href="usb_u_d_p_8cpp-source.html#l00182">CUdpDriver::WritePayload()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0742d93f329309a1961871cca9d23ae0"></a><!-- doxytag: member="USB::CUsbDriver::dNumEndpoints" ref="0742d93f329309a1961871cca9d23ae0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#0742d93f329309a1961871cca9d23ae0">USB::CUsbDriver::dNumEndpoints</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of endpoints in list. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00769">769</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l00785">CUdpDriver::ConfigureEndpoint()</a>, <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00541">CUdpDriver::DisableEndpoints()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01035">GetNumEndpoints()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01531">CUdpDriver::Init()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l00511">CUdpDriver::ResetEndpoints()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l01043">SetEndpointList()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e291dea0fc434bbc3a6ce8e72c630e5e"></a><!-- doxytag: member="USB::CUsbDriver::sSetup" ref="e291dea0fc434bbc3a6ce8e72c630e5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b_1_1_s__usb__request.html">S_usb_request</a> <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#e291dea0fc434bbc3a6ce8e72c630e5e">USB::CUsbDriver::sSetup</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pointer to the last received SETUP packet. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00770">770</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_u_d_p_8cpp-source.html#l00559">CUdpDriver::EndpointHandler()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01008">GetSetup()</a>, <a class="el" href="usb_u_d_p_8cpp-source.html#l01423">CUdpDriver::SetAddress()</a>, and <a class="el" href="usb_u_d_p_8cpp-source.html#l01457">CUdpDriver::SetConfiguration()</a>.</p>

</div>
</div><p>
<a class="anchor" name="57eb020d26a1130afba43b24576cff0a"></a><!-- doxytag: member="USB::CUsbDriver::dState" ref="57eb020d26a1130afba43b24576cff0a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="common_8h.html#91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#57eb020d26a1130afba43b24576cff0a">USB::CUsbDriver::dState</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Current state of the device. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00771">771</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l00800">ClearState()</a>, <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01026">IsStateCleared()</a>, <a class="el" href="usb_framework_8hpp-source.html#l01017">IsStateSet()</a>, and <a class="el" href="usb_framework_8hpp-source.html#l00792">SetState()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6a49f7a52fb84e6a7054c66c6d4a9f21"></a><!-- doxytag: member="USB::CUsbDriver::useSOFCallback" ref="6a49f7a52fb84e6a7054c66c6d4a9f21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="common_8h.html#f6a258d8f3ee5206d682d799316314b1">bool</a> <a class="el" href="class_u_s_b_1_1_c_usb_driver.html#6a49f7a52fb84e6a7054c66c6d4a9f21">USB::CUsbDriver::useSOFCallback</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indicates wether to forward StartOfFrame events. 
<p>

<p>Definition at line <a class="el" href="usb_framework_8hpp-source.html#l00772">772</a> of file <a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a>.</p>

<p>Referenced by <a class="el" href="usb_framework_8hpp-source.html#l00777">CUsbDriver()</a>, and <a class="el" href="usb_u_d_p_8cpp-source.html#l00870">CUdpDriver::EventHandler()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>src/inc/<a class="el" href="usb_framework_8hpp-source.html">usbFramework.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Mar 10 02:42:35 2008 for XPU-DSAM7S by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
